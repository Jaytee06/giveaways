<div class="pad-wrap d-flex" *ngIf="!isLoading; else loading">
	<div class="flex-grow-1 mr-3">
		<div class="chk-block hand" *ngFor="let post of posts" (click)="goToPost(post)">
			<div class="chk-block-content">

				<div class="d-flex flex-fill blog-item blog-post">
					<div class="mr-2" *ngIf="post.imageUrl">
						<img [ngStyle]="{'max-width': imageMaxWidth}" [src]="post.imageUrl"/>
					</div>
					<div class="d-flex flex-fill flex-column flex-grow-1">
						<h2>{{post.title}}</h2>
						<div class="flex-grow-1"><p>{{post.description}}</p></div>
						<div class="d-flex flex-fill text-muted font-sm">
							<div><i class="fa fa-user"></i> {{post.author.fullname}}</div>
							<div class="ml-2"><i class="fa fa-clock-o"></i> {{post.createdAt | date: 'short'}}</div>
							<div class="ml-2"><i class="fa fa-comments-o"></i> {{post.comments.length | number}}</div>
						</div>
					</div>
					<div class="d-flex flex-fill text-muted font-2x">
						<div class="align-self-center"><i class="fa fa-angle-double-right"></i></div>
					</div>
				</div>
			</div>
		</div>

		<div *ngIf="posts.length === querySkip + queryLimit" class="chk-block" (click)="getMorePosts()">
			<div class="chk-block-content flex-grow-1 text-center load-more">Load More</div>
		</div>
	</div>
	<div>
		<div class="chk-block">
			<div class="chk-block-title">Blog Categories</div>
			<div class="chk-block-content">
				<div *ngFor="let cat of categories">
					<span class="badge mb-2 hand" [ngClass]="{'badge-secondary': catSelected(cat._id), 'badge-outline-inverse': !catSelected(cat._id)}" (click)="toggleCat(cat._id)"><i class="fa fa-times mr-1" *ngIf="catSelected(cat._id)"></i>{{cat.name}}</span>
				</div>
			</div>
		</div>
	</div>
</div>
<ng-template #loading>
	<app-loader></app-loader>
</ng-template>