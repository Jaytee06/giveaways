<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
    <div class="chk-block">
      <div class="chk-block-title">
        <h3 class="text-capitalize">Details</h3>
      </div>
			<div class="chk-block-content">
				<div class="chk-block-title">
					<h3 class="text-capitalize">Details</h3>
				</div>
				<div class="chk-block-content">
					<app-tda-form
							*ngIf="!loading; else loader"
							[structure]="structure"
							[values]="role"
							(save$)="save($event)"
							(delete$)="delete()"
					></app-tda-form>
					<ng-template #loader>
						<app-loader></app-loader>
					</ng-template>
				</div>
			</div>
    </div>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-6 col-lg-6">
    <div class="chk-block">
      <div class="chk-block-title">
        <h3 class="text-capitalize">Permissions</h3>
      </div>
      <div class="chk-block-content">
		  <div class="row">
			  <div class="col col-xs-6"></div>
			  <div class="col col-xs-2">View</div>
			  <div class="col col-xs-1">Create</div>
			  <div class="col col-xs-1">Update</div>
			  <div class="col col-xs-2">Delete</div>
		  </div><div class="row">
			  <div class="col col-xs-6">All</div>
			  <div class="col col-xs-2">
					  <mat-checkbox
								(ngModelChange)="checkAll($event, 'canRead')"
								[(ngModel)]="permissionCheckboxes.canRead.checked"
								[(indeterminate)]="permissionCheckboxes.canRead.indeterminate"
						></mat-checkbox>
			  </div>
			  <div class="col col-xs-1">
					  <mat-checkbox
								(ngModelChange)="checkAll($event,'canCreate')"
								[(ngModel)]="permissionCheckboxes.canCreate.checked"
								[(indeterminate)]="permissionCheckboxes.canCreate.indeterminate"
						></mat-checkbox>
			  </div>
			  <div class="col col-xs-1">
					<mat-checkbox
							(ngModelChange)="checkAll($event, 'canUpdate')"
							[(ngModel)]="permissionCheckboxes.canUpdate.checked"
							[(indeterminate)]="permissionCheckboxes.canUpdate.indeterminate"
					></mat-checkbox>
			  </div>
			  <div class="col col-xs-2">
					<mat-checkbox
							(ngModelChange)="checkAll($event, 'canDelete')"
							[(ngModel)]="permissionCheckboxes.canDelete.checked"
							[(indeterminate)]="permissionCheckboxes.canDelete.indeterminate"
					></mat-checkbox>
			  </div>
		  </div>
		  <hr>
		  <div class="row" *ngFor="let permission of permissions">
				<div class="col">
				  <label>{{permission.name}}</label>
			  </div>
				<div class="col" *ngFor="let perm of ['canRead','canCreate','canUpdate','canDelete']">
						<mat-checkbox
								[(ngModel)]="permission.rolePermission[perm]"
								(ngModelChange)="changeIndeterminate(perm)"
						></mat-checkbox>
			  </div>
		  </div>
      </div>
    </div>
  </div>
</div>
